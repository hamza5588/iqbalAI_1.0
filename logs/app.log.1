2025-07-24 03:37:54,837 ERROR: Exception on /api/lessons/download_lesson_pdf/26 [GET] [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\venv\Lib\site-packages\flask\app.py:875]
Traceback (most recent call last):
  File "C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\venv\Lib\site-packages\flask_cors\extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ~^^^^^^^^^^^^^^^^^
  File "C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\utils\decorators.py", line 14, in decorated_function
    return f(*args, **kwargs)
  File "C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\routes\lesson_routes.py", line 306, in download_lesson_pdf
    from docx2pdf import convert
ModuleNotFoundError: No module named 'docx2pdf'
2025-07-24 03:40:04,675 INFO: Checking survey submission status for user_id: 12 [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1183]
2025-07-24 03:40:04,679 INFO: Survey check result: User 12 has not submitted a survey (count: 0) [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1192]
2025-07-24 03:40:38,053 INFO: Processing text of length: 17686 [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\services\lesson_service.py:588]
2025-07-24 03:40:38,054 INFO: About to invoke LLM... [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\services\lesson_service.py:589]
2025-07-24 03:40:41,874 INFO: Received LLM response type: <class 'langchain_core.messages.ai.AIMessage'> [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\services\lesson_service.py:596]
2025-07-24 03:40:41,875 INFO: Response text (first 200 chars): {
    "title": "Agentic AI: Intelligent Document Processing and Question-Answering",
    "summary": "This lesson covers the Agentic RAG System, a powerful AI platform for document interaction that com [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\services\lesson_service.py:601]
2025-07-24 03:40:41,877 INFO: Successfully generated structured lesson [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\services\lesson_service.py:607]
2025-07-24 03:40:58,407 ERROR: Exception on /api/lessons/download_lesson_pdf/27 [GET] [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\venv\Lib\site-packages\flask\app.py:875]
Traceback (most recent call last):
  File "C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\venv\Lib\site-packages\flask_cors\extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ~^^^^^^^^^^^^^^^^^
  File "C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\utils\decorators.py", line 14, in decorated_function
    return f(*args, **kwargs)
  File "C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\routes\lesson_routes.py", line 312, in download_lesson_pdf
    os.remove(pdf_path)
    ~~~~~~~~~^^^^^^^^^^
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\DCS\\AppData\\Local\\Temp\\tmp2tw01omi.pdf'
2025-07-24 03:43:01,906 INFO: Checking survey submission status for user_id: 12 [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1183]
2025-07-24 03:43:01,907 INFO: Survey check result: User 12 has not submitted a survey (count: 0) [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1192]
2025-07-24 03:43:28,355 INFO: Processing text of length: 17686 [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\services\lesson_service.py:588]
2025-07-24 03:43:28,356 INFO: About to invoke LLM... [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\services\lesson_service.py:589]
2025-07-24 03:43:32,199 INFO: Received LLM response type: <class 'langchain_core.messages.ai.AIMessage'> [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\services\lesson_service.py:596]
2025-07-24 03:43:32,200 INFO: Response text (first 200 chars): {
    "title": "Agentic AI: Intelligent Document Processing and Question-Answering",
    "summary": "This lesson covers the Agentic RAG System, a powerful AI platform for document processing and quest [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\services\lesson_service.py:601]
2025-07-24 03:43:32,201 INFO: Successfully generated structured lesson [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\services\lesson_service.py:607]
2025-07-24 03:46:00,679 INFO: Checking survey submission status for user_id: 12 [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1183]
2025-07-24 03:46:00,681 INFO: Survey check result: User 12 has not submitted a survey (count: 0) [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1192]
2025-07-24 03:49:46,007 INFO: Checking survey submission status for user_id: 12 [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1183]
2025-07-24 03:49:46,010 INFO: Survey check result: User 12 has not submitted a survey (count: 0) [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1192]
2025-07-24 03:51:26,953 INFO: Checking survey submission status for user_id: 12 [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1183]
2025-07-24 03:51:26,956 INFO: Survey check result: User 12 has not submitted a survey (count: 0) [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1192]
2025-07-24 03:51:36,914 INFO: Checking survey submission status for user_id: 12 [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1183]
2025-07-24 03:51:36,916 INFO: Survey check result: User 12 has not submitted a survey (count: 0) [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1192]
2025-07-24 03:52:58,225 INFO: Checking survey submission status for user_id: 12 [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1183]
2025-07-24 03:52:58,228 INFO: Survey check result: User 12 has not submitted a survey (count: 0) [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1192]
2025-07-24 03:54:35,879 INFO: Checking survey submission status for user_id: 12 [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1183]
2025-07-24 03:54:35,881 INFO: Survey check result: User 12 has not submitted a survey (count: 0) [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1192]
2025-07-24 03:55:04,896 INFO: Checking survey submission status for user_id: 12 [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1183]
2025-07-24 03:55:04,898 INFO: Survey check result: User 12 has not submitted a survey (count: 0) [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1192]
2025-07-24 04:01:00,827 INFO: Checking survey submission status for user_id: 12 [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1183]
2025-07-24 04:01:00,832 INFO: Survey check result: User 12 has not submitted a survey (count: 0) [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1192]
2025-07-24 04:02:31,983 INFO: Checking survey submission status for user_id: 12 [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1183]
2025-07-24 04:02:31,985 INFO: Survey check result: User 12 has not submitted a survey (count: 0) [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1192]
2025-07-24 04:03:30,970 INFO: Checking survey submission status for user_id: 1 [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1183]
2025-07-24 04:03:30,973 INFO: Survey check result: User 1 has submitted a survey (count: 1) [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1192]
2025-07-24 04:05:06,469 INFO: Checking survey submission status for user_id: 11 [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1183]
2025-07-24 04:05:06,471 INFO: Survey check result: User 11 has not submitted a survey (count: 0) [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1192]
2025-07-24 04:07:18,625 INFO: Checking survey submission status for user_id: 11 [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1183]
2025-07-24 04:07:18,628 INFO: Survey check result: User 11 has not submitted a survey (count: 0) [in C:\Users\DCS\Desktop\New folder (10)\iqbalAI_1.0\app\models\models.py:1192]
