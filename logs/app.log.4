2025-07-06 19:24:22,876 ERROR: Error generating lesson: Error code: 413 - {'error': {'message': 'Request too large for model `llama3-70b-8192` in organization `org_01jypge90gfktrdgbzcr6p5m9q` service tier `on_demand` on tokens per minute (TPM): Limit 6000, Requested 35237, please reduce your message size and try again. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}} [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:607]
Traceback (most recent call last):
  File "C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py", line 592, in _generate_structured_lesson
    response = self.llm.invoke(self.lesson_prompt.format(text=prompt_text))
  File "C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\venv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 378, in invoke
    self.generate_prompt(
    ~~~~~~~~~~~~~~~~~~~~^
        [self._convert_input(input)],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        **kwargs,
        ^^^^^^^^^
    ).generations[0][0],
    ^
  File "C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\venv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 963, in generate_prompt
    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\venv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 782, in generate
    self._generate_with_cache(
    ~~~~~~~~~~~~~~~~~~~~~~~~~^
        m,
        ^^
    ...<2 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\venv\Lib\site-packages\langchain_core\language_models\chat_models.py", line 1028, in _generate_with_cache
    result = self._generate(
        messages, stop=stop, run_manager=run_manager, **kwargs
    )
  File "C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\venv\Lib\site-packages\langchain_groq\chat_models.py", line 536, in _generate
    response = self.client.create(messages=message_dicts, **params)
  File "C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\venv\Lib\site-packages\groq\resources\chat\completions.py", line 368, in create
    return self._post(
           ~~~~~~~~~~^
        "/openai/v1/chat/completions",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<40 lines>...
        stream_cls=Stream[ChatCompletionChunk],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\venv\Lib\site-packages\groq\_base_client.py", line 1232, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\venv\Lib\site-packages\groq\_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
groq.APIStatusError: Error code: 413 - {'error': {'message': 'Request too large for model `llama3-70b-8192` in organization `org_01jypge90gfktrdgbzcr6p5m9q` service tier `on_demand` on tokens per minute (TPM): Limit 6000, Requested 35237, please reduce your message size and try again. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-07-06 19:25:37,106 INFO: Checking survey submission status for user_id: 1 [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\models\models.py:1013]
2025-07-06 19:25:37,110 INFO: Survey check result: User 1 has submitted a survey (count: 1) [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\models\models.py:1022]
2025-07-06 19:26:14,701 INFO: Processing text of length: 17686 [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:585]
2025-07-06 19:26:14,702 INFO: About to invoke LLM... [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:586]
2025-07-06 19:26:17,766 INFO: Received LLM response type: <class 'langchain_core.messages.ai.AIMessage'> [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:593]
2025-07-06 19:26:17,768 INFO: Response text (first 200 chars): {
    "title": "Agentic RAG System: Intelligent Document Processing and Question-Answering",
    "summary": "This lesson covers the Agentic RAG System, a powerful platform that combines large language [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:598]
2025-07-06 19:26:17,772 INFO: Successfully generated structured lesson [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:604]
2025-07-06 19:26:24,943 INFO: Processing text of length: 17686 [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:585]
2025-07-06 19:26:24,963 INFO: About to invoke LLM... [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:586]
2025-07-06 19:27:02,505 INFO: Received LLM response type: <class 'langchain_core.messages.ai.AIMessage'> [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:593]
2025-07-06 19:27:02,507 INFO: Response text (first 200 chars): {
    "title": "Agentic RAG System: Intelligent Document Processing and Question-Answering",
    "summary": "This lesson covers the Agentic RAG System, a powerful platform that combines Large Language [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:598]
2025-07-06 19:27:02,511 INFO: Successfully generated structured lesson [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:604]
2025-07-06 21:14:31,053 INFO: Checking survey submission status for user_id: 1 [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\models\models.py:1013]
2025-07-06 21:14:31,072 INFO: Survey check result: User 1 has submitted a survey (count: 1) [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\models\models.py:1022]
2025-07-06 21:15:53,931 INFO: Processing text of length: 6910 [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:585]
2025-07-06 21:15:53,933 INFO: About to invoke LLM... [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:586]
2025-07-06 21:15:56,497 INFO: Received LLM response type: <class 'langchain_core.messages.ai.AIMessage'> [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:593]
2025-07-06 21:15:56,498 INFO: Response text (first 200 chars): {
"title": "Building Intelligent AI Solutions with Machine Learning and Deep Learning",
"summary": "This lesson covers the development of AI-powered applications using machine learning, deep learning, [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:598]
2025-07-06 21:15:56,500 INFO: Successfully generated structured lesson [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:604]
2025-07-06 21:18:25,899 INFO: Checking survey submission status for user_id: 1 [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\models\models.py:1013]
2025-07-06 21:18:25,902 INFO: Survey check result: User 1 has submitted a survey (count: 1) [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\models\models.py:1022]
2025-07-06 21:19:03,598 INFO: Processing text of length: 6910 [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:585]
2025-07-06 21:19:03,599 INFO: About to invoke LLM... [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:586]
2025-07-06 21:19:05,882 INFO: Received LLM response type: <class 'langchain_core.messages.ai.AIMessage'> [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:593]
2025-07-06 21:19:05,884 INFO: Response text (first 200 chars): {
    "title": "Building Intelligent AI Solutions with Machine Learning and Deep Learning",
    "summary": "This lesson covers the key concepts and applications of machine learning and deep learning i [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:598]
2025-07-06 21:19:05,888 INFO: Successfully generated structured lesson [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:604]
2025-07-06 21:20:13,729 INFO: Checking survey submission status for user_id: 1 [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\models\models.py:1013]
2025-07-06 21:20:13,733 INFO: Survey check result: User 1 has submitted a survey (count: 1) [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\models\models.py:1022]
2025-07-06 21:21:03,731 INFO: Processing text of length: 6910 [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:585]
2025-07-06 21:21:03,732 INFO: About to invoke LLM... [in C:\Users\DCS\Desktop\New folder (6)\iqbalAI\iqbalAI\iqbal_Ai_Version2\app\services\lesson_service.py:586]
